package com.ruyicai.mgr.statis;

import java.util.Date;
import java.util.List;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

import com.ruyicai.mgr.consts.CashDetailState;
import com.ruyicai.mgr.controller.dto.UsercfgView;
import com.ruyicai.mgr.domain.Tcashdetail;
import com.ruyicai.mgr.domain.Tcashrecord;
import com.ruyicai.mgr.domain.Tcashrecordcfg;
import com.ruyicai.mgr.domain.Tlot;
import com.ruyicai.mgr.domain.Ttransaction;
import com.ruyicai.mgr.domain.Tuserinfo;
import com.ruyicai.mgr.domain.statis.UserCfg;
import com.ruyicai.mgr.service.TlotService;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = {
		"classpath:/META-INF/spring/applicationContext.xml"})
public class TestWebS {

	//@Autowired
	TlotService tlotService;
	@Test
	public void test(){
		//long i  = Tuserinfo.countRegistUser("2", "2011-11-11", "2011-11-11");
		//Ttransaction.countCharge("2", "2011-11-11", "2011-11-11");
		//Ttransaction.sumCharge("2", "2011-11-11", "2011-11-11");
//		Object[] o = Tlot.countBuy("2", "2011-11-11", "2011-11-11").get(0);
//		for (Object object : o) {
//			System.out.println(object);
//		}
//		Object[] o = Tlot.getSumNewUserLot("2", "2011-11-11", "2011-11-11").get(0);
//		for (Object object : o) {
//			System.out.println(object);
//		}
		//Tlot.getSumWin("2", "2011-11-11", "2011-11-11");
//		System.out.println(1);
//		
//		List<Tcashdetail> list = Tcashdetail.selectAuditedTcashDetail();
//		
//		Tcashrecord tcr = new Tcashrecord();
//		tcr.setDcdate(new Date());
//		tcr.persist();
//		
//		for (Tcashdetail tr : list) {
//			Tcashdetail t = Tcashdetail.findTcashdetail(tr.getId());
//			t.setState(CashDetailState.Chenggong.value());
//			t.merge();
//			
//			Tcashrecordcfg tcrc = new Tcashrecordcfg();
//			tcrc.setCashrecordid(tcr.getId());
//			tcrc.setTtransactionid(tr.getTtransactionid());
//			tcrc.persist();
//		}
		
//		Tcashdetail t = Tcashdetail.getTcashdetailByTransactionId("00000000000000000026249520111130");
//		System.out.println(t);
		
//		List<UsercfgView> l = UserCfg.findUserCfgViewByUserid(425);
//		System.out.println(l);
		//tlotService.updateTime();
	}
	
}
